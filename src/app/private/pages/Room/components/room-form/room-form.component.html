<!-- room-form.component.html -->
<ion-card-title
  ></ion-card-title
>
<ion-text color="dark" class="ion-text-center">
  <h1>{{ roomData == null ? "Crear" : "Editar" }} Habitación</h1>
</ion-text>
<form [formGroup]="roomForm" (ngSubmit)="onSubmit()">
  <!-- Nombre -->
  <ion-item>
    <ion-label position="floating">Nombre</ion-label>
    <ion-input formControlName="name"></ion-input>
  </ion-item>
  <ion-text class="ion-text-center"
    color="danger"
    *ngIf="
      roomForm.get('name')?.hasError('required') &&
      roomForm.get('name')?.touched
    "
  >
    El nombre es obligatorio
  </ion-text>

  <!-- Descripción -->
  <ion-item>
    <ion-label position="floating">Descripción</ion-label>
    <ion-textarea formControlName="description"></ion-textarea>
  </ion-item>
  <ion-text
  class="ion-text-center"
    color="danger"
    *ngIf="
      roomForm.get('description')?.hasError('required') &&
      roomForm.get('description')?.touched
    "
  >
    La descripción es obligatoria
  </ion-text>

  <!-- Precio -->
  <ion-item>
    <ion-label position="floating">Precio por noche</ion-label>
    <ion-input type="number" formControlName="price"></ion-input>
  </ion-item>
  <ion-text
  class="ion-text-center"
    color="danger"
    *ngIf="
      roomForm.get('price')?.hasError('required') &&
      roomForm.get('price')?.touched
    "
  >
    El precio es obligatorio
  </ion-text>
  <ion-text
  class="ion-text-center"
    color="danger"
    *ngIf="
      roomForm.get('price')?.hasError('min') && roomForm.get('price')?.touched
    "
  >
    El precio debe ser mayor a 0
  </ion-text>

  <!-- Tipo de habitación -->
  <ion-item>
    <ion-label position="floating">Tipo de habitación</ion-label>
    <ion-select formControlName="type_id">
      <ion-select-option *ngFor="let type of roomTypes" [value]="type.id">
        {{ type.name }}
      </ion-select-option>
    </ion-select>
  </ion-item>
  <ion-text
  class="ion-text-center"
    color="danger"
    *ngIf="
      roomForm.get('type_id')?.hasError('required') &&
      roomForm.get('type_id')?.touched
    "
  >
    El tipo de habitación es obligatorio
  </ion-text>

  <!-- Botón de envío -->
  <ion-button expand="block" type="submit" [disabled]="roomForm.invalid">
    {{ roomData == null ? "Crear" : "Editar" }} Habitación
  </ion-button>
</form>
