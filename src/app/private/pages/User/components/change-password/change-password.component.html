<ion-text color="dark" class="ion-text-center">
  <h1>Cambiar contraseña</h1>
</ion-text>
<form [formGroup]="PasswordForm" (ngSubmit)="onSubmitPassword()">
  <ion-item>
    <ion-label position="stacked">Contraseña</ion-label>
    <ion-input
      formControlName="password"
      fill="outline"
      [counter]="true"
      maxlength="20"
      [type]="IsPassword ? 'text' : 'password'"
      placeholder="**********"
    >
      <ion-button
        (click)="SeePassword('password')"
        fill="clear"
        [color]="
          PasswordForm.get('password')?.invalid &&
          getFormHasTouch(PasswordForm, 'password')
            ? 'danger'
            : 'primary'
        "
        slot="end"
      >
        <ion-icon
          slot="icon-only"
          [name]="IsPassword ? 'eye-outline' : 'eye-off-outline'"
        ></ion-icon>
      </ion-button>
    </ion-input>
    @if(getformHasError(PasswordForm,'password','required') &&
    getFormHasTouch(PasswordForm,'password')){
    <ion-note color="danger"> Contraseña es requerida. </ion-note>
    } @if(getformHasError(PasswordForm,'password','minlength') &&
    getFormHasTouch(PasswordForm,'password')){
    <ion-note color="danger">
      Contraseña debe tener mínimo 6 caracteres
    </ion-note>
    } @if(getformHasError(PasswordForm,'password','maxlength') &&
    getFormHasTouch(PasswordForm,'password')){
    <ion-note color="danger">
      Contraseña debe tener máximo 20 caracteres
    </ion-note>
    }
  </ion-item>

  <ion-item>
    <ion-label position="stacked">Nueva Contraseña</ion-label>
    <ion-input
      formControlName="new_password"
      fill="outline"
      [counter]="true"
      maxlength="20"
      [type]="IsNewPassword ? 'text' : 'password'"
      placeholder="**********"
    >
      <ion-button
        (click)="SeePassword('new_password')"
        fill="clear"
        [color]="
          PasswordForm.get('new_password')?.invalid &&
          getFormHasTouch(PasswordForm, 'new_password')
            ? 'danger'
            : 'primary'
        "
        slot="end"
      >
        <ion-icon
          slot="icon-only"
          [name]="IsNewPassword ? 'eye-outline' : 'eye-off-outline'"
        ></ion-icon>
      </ion-button>
    </ion-input>
    @if(getformHasError(PasswordForm,'new_password','required') &&
    getFormHasTouch(PasswordForm,'new_password')){
    <ion-note color="danger"> Nueva Contraseña es requerida. </ion-note> }
    @if(getformHasError(PasswordForm,'new_password','minlength') &&
    getFormHasTouch(PasswordForm,'new_password')){
    <ion-note color="danger">
      Nueva Contraseña debe tener mínimo 6 caracteres
    </ion-note>
    } @if(getformHasError(PasswordForm,'new_password','maxlength') &&
    getFormHasTouch(PasswordForm,'new_password')){
    <ion-note color="danger">
      Nueva Contraseña debe tener máximo 20 caracteres
    </ion-note>
    }
  </ion-item>
  <div class="flex_button_register">
    <ion-button fill="outline" expand="block" color="warning" type="submit" [disabled]="PasswordForm.invalid">
      <ion-icon slot="start" name="person-outline"></ion-icon>
      Guardar
    </ion-button>
  </div>
</form>
